{"version":3,"sources":["App.js","index.js"],"names":["FormCell","width","label","mandatory","children","El","className","undefined","getInputStyle","props","value","TextInput","type","TextArea","getButtonStyle","sm","disabled","primary","default","inverted","Button","LinkButton","CreateBookForm","createBook","useState","title","setTitle","author","setAuthor","synopsis","setSynopsis","isbn","setISBN","year","setYear","submitted","setSubmitted","to","onChange","e","target","onClick","Card","LibraryLink","AppShell","Message","BookCard","App","books","setBooks","hasError","setHasError","useEffect","useCallback","book","concat","useBooks","JSON","stringify","path","length","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.636de3f5.chunk.js","sourcesContent":["import React, {useState, useCallback, useEffect} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect} from 'react-router-dom';\n\nconst useBooks = () => {\n  const [books, setBooks] = useState([\n    {\n      title: 'Clean Architecture',\n      author: 'Robert C. Martin',\n      year: 2005,\n      isbn: 5478375384,\n      synopsis:\n        'By applying universal rules of software architecture, you can dramatically improve developer productivity throughout the life of any software system. Now, building upon the success of his best-selling books Clean Code and The Clean Coder, legendary software craftsman Robert C. Martin (\"Uncle Bob\") reveals those rules and helps you apply them.'\n    }\n  ]);\n  const [hasError, setHasError] = useState(null);\n\n  useEffect(\n    () => {},\n    // fetch('/api/v1/book')\n    //   .then(res => res.json())\n    //   .then(setBooks)\n    //   .catch(setHasError),\n    []\n  );\n\n  const createBook = useCallback(book => setBooks(books.concat(book)), [books, setBooks]);\n\n  return {books, createBook, hasError, setHasError};\n};\n\nconst FormCell = ({width, label, mandatory, children}) => {\n  const El = label ? 'label' : 'div';\n\n  return (\n    <El className={`px-2 py-1 w-${width || 'full'} flex flex-col items-stretch`}>\n      {label ? (\n        <div className=\"text-black text-sm mr-1 mb-1 cursor-pointer\">\n          {label}\n          {mandatory ? <span className=\"text-red ml-1\">*</span> : undefined}\n        </div>\n      ) : (\n        undefined\n      )}\n      {children}\n    </El>\n  );\n};\n\nconst getInputStyle = props =>\n  `rounded border  px-2 py-1 active:border-green ${\n    props.mandatory && !props.value && !props.children ? 'border-red' : 'border-gray-200'\n  }`;\n\nconst TextInput = props => {\n  return <input {...props} className={getInputStyle(props)} type=\"text\" />;\n};\n\nconst TextArea = props => {\n  return <textarea {...props} className={getInputStyle(props)} />;\n};\n\nconst BUTTON_MAP = disabled => ({\n  primary: {\n    default: 'border-green bg-gray-700 ' + (disabled ? '' : 'hover:text-gray-700 hover:bg-green'),\n    inverted: 'border-green bg-green ' + (disabled ? '' : 'hover:text-green hover:bg-gray-700')\n  },\n  default: {\n    default: 'border-gray-300 bg-gray-700 ' + (disabled ? '' : 'hover:text-gray-700 hover:bg-gray-300'),\n    inverted: 'border-gray-300 bg-gray-300 ' + (disabled ? '' : 'hover:text-gray-300 hover:bg-gray-700')\n  }\n});\n\nconst getButtonStyle = props =>\n  `Button ${props.sm ? 'px-1 py-1 text-sm' : 'px-2 py-1'} rounded border ${\n    props.disabled ? 'opacity-50 cursor-not-allowed' : ''\n  } ${\n    BUTTON_MAP(props.disabled)[props.primary ? 'primary' : 'default'][props.inverted ? 'inverted' : 'default']\n  } text-white ${props.className || ''}`;\n\nconst Button = props => <button {...props} className={getButtonStyle(props)} />;\nconst LinkButton = props => <Link {...props} className={getButtonStyle(props)} />;\n\nconst CreateBookForm = ({createBook}) => {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [synopsis, setSynopsis] = useState('');\n  const [isbn, setISBN] = useState('');\n  const [year, setYear] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n\n  const submitForm = () => {\n    createBook({title, author, synopsis, isbn, year});\n    setSubmitted(true);\n  };\n\n  return (\n    <>\n      {submitted ? <Redirect to=\"/\" /> : undefined}\n      <Card className=\"flex flex-row flex-wrap\">\n        <FormCell width=\"9/12\" label=\"Title\" mandatory>\n          <TextInput mandatory value={title} onChange={e => setTitle(e.target.value)} />\n        </FormCell>\n        <FormCell width=\"9/12\" label=\"Author\" mandatory>\n          <TextInput mandatory value={author} onChange={e => setAuthor(e.target.value)} />\n        </FormCell>\n        <FormCell label=\"Synopsis\">\n          <TextArea onChange={e => setSynopsis(e.target.value)}>{synopsis}</TextArea>\n        </FormCell>\n        <FormCell width=\"6/12\" label=\"ISBN\">\n          <TextInput value={isbn} onChange={e => setISBN(e.target.value)} />\n        </FormCell>\n        <FormCell width=\"6/12\" label=\"Year\">\n          <TextInput value={year} onChange={e => setYear(e.target.value)} />\n        </FormCell>\n      </Card>\n      <div className=\"my-2\">\n        <Button primary className=\"mr-2\" onClick={submitForm} disabled={!title || !author}>\n          Submit\n        </Button>\n        <LinkButton to=\"/\">Cancel</LinkButton>\n      </div>\n    </>\n  );\n};\n\nconst Card = ({className, children}) => (\n  <div className={`Card bg-cream text-black p-2 rounded ${className || ''}`}>{children}</div>\n);\n\nconst LibraryLink = props => <Link {...props} className=\"text-blue cursor-pointer hover:underline\" />;\n\nconst AppShell = ({title, children}) => (\n  <div className=\"AppShell w-screen min-h-screen bg-gunmetal font-body text-cream p-2 sm:p-2 md:p-2 lg:p-4 xl:p-4 \">\n    <main className=\"w-full xl:w-6/12 mx-auto\">\n      <div className=\"AppShell-header flex my-2 flex-col sm:flex-col md:flex-col lg:flex-row xl:flex-row items-baseline\">\n        <h1 className=\"text-4xl text-green font-light font-display mr-2 cursor-pointer\">\n          <Link to=\"/\">My Library App</Link>\n        </h1>\n        <h1 className=\"text-xl text-gray-200 \">{title}</h1>\n      </div>\n      {children}\n    </main>\n  </div>\n);\n\nconst Message = ({children}) => <Card>{children}</Card>;\n\nconst BookCard = ({title, author, year, isbn, synopsis}) => {\n  return (\n    <Card className=\"BookCard my-2\">\n      <div className=\"flex flex-col md:flex-row items-start md:items-center\">\n        <div className=\"flex-1\">\n          <div className=\"BookCard-title font-bold\">{title}</div>\n          <div className=\"text-sm text-gray-400 mt-1\">{synopsis}</div>\n        </div>\n        <div className=\"BookCard-meta text-sm flex flex-col my-2 md:my-0 md:mx-3\">\n          <div>{author}</div>\n          <div>{year}</div>\n          <div>{isbn}</div>\n        </div>\n        <div className=\"my-2 md:my-0 md:mx-3\">\n          <Button primary inverted sm>\n            Remove\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nfunction App() {\n  const {books, createBook, hasError} = useBooks();\n\n  if (hasError)\n    return <AppShell title=\"Error page\">Could not load the list of books {JSON.stringify(hasError)}</AppShell>;\n\n  return (\n    <Router>\n      <AppShell\n        title={\n          <Switch>\n            <Route path=\"/create\">Create a book</Route>\n            <Route path=\"/\">Available books</Route>\n          </Switch>\n        }>\n        <Switch>\n          <Route path=\"/create\">\n            <CreateBookForm createBook={createBook} />\n          </Route>\n          <Route path=\"/\">\n            {books && books.length ? (\n              books.map(book => <BookCard {...book} />)\n            ) : (\n              <Message>\n                No books available, please <LibraryLink to=\"/create\">add</LibraryLink> one\n              </Message>\n            )}\n            <div className=\"py-2\">\n              <LinkButton to=\"/create\" primary className=\"mr-2\">\n                Add a book\n              </LinkButton>\n            </div>\n          </Route>\n        </Switch>\n      </AppShell>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}